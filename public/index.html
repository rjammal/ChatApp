<!DOCTYPE html>
<html>
<head>
    <title>Sweet Title</title>
    <script src="/socket.io/socket.io.js"></script>
    <script src="javascripts/jquery-1.11.1.js"></script>
    <script type="text/javascript" charset="utf-8">
    // io is global
    var socket = io("http://10.52.196.1");
    socket.on('server-msg', function(data){ 
        console.log("server says:")
        console.log(data);
    });
    socket.emit("client-msg", {message: "lol im a client"});
    
    $(function(){
        $('#chat-button').click(function(event){
            event.preventDefault();
            var myText = $('#chat-message').val();
            var myName = $("#nameNameName").val();
            console.log("is jQuery correct? " + myText);
            socket.emit('chat-submit', { message: myText, author: myName });
        });
    })
    
    socket.on("chat-broadcast", function(data){
        var $li = $('<li>');
        $li.html(data.author + ": " + data.message);
        $('ul#previous-messages').append($li);
        $('#chat-message').val("")
    });
    
    </script>
    
    
</head>
<body>
    <h1>Awesome chat yea</h1>
    <form>
          
        <input type="text" id="nameNameName" placeholder="Who even are you?">
        <br>
        <textarea id="chat-message" placeholder="no profanity, please."></textarea>
      
        <p><button id="chat-button">CLICK ME NOW!</button></p>
    </form>
    
    <br>
    <ul id="previous-messages"></ul>
</body>
</html>
